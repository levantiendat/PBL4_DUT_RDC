USE rdc;

CREATE TABLE _COMP (
    CompID VARCHAR(69),
    PublicKey VARCHAR(333),
    PRIMARY KEY (CompID)
);

CREATE TABLE _COMP_INFO (
	CompID VARCHAR(69),
    EmployeeID VARCHAR(69),
    EmployeeName VARCHAR(96),
    Mail VARCHAR(96),
    EmployeeImage VARCHAR(88),
    PRIMARY KEY (CompID),
    FOREIGN KEY (CompID) REFERENCES _COMP(CompID)
);

CREATE TABLE _COMP_APP_HISTORY (
	CompID VARCHAR(69),
    TimeID VARCHAR(88),
    AppName VARCHAR(96),
    PRIMARY KEY (CompID, TimeID, AppName),
    FOREIGN KEY (CompID) REFERENCES _COMP(CompID)
);

CREATE INDEX IDX_APP_HISTORY1 ON _COMP_APP_HISTORY(CompID);

CREATE INDEX IDX_APP_HISTORY2 ON _COMP_APP_HISTORY(CompID, TimeID);

CREATE TABLE _NOT_ALLOW_APP (
	AppName VARCHAR(96),
    PRIMARY KEY (AppName)
);

CREATE TABLE _ADMIN_COMP (
	IPComp VARCHAR(22),
    PRIMARY KEY (IPComp)
);

INSERT INTO _ADMIN_COMP VALUES ( 
    '192.168.23.88'
)
