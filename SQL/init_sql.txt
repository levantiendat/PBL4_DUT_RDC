USE rdc;

CREATE TABLE _COMP (
    CompID VARCHAR(69),
    PublicKey VARCHAR(333),
    PRIMARY KEY (CompID)
);

CREATE TABLE _COMP_INFO (
	CompID VARCHAR(69),
    EmployeeID VARCHAR(69),
    EmployeeName VARCHAR(96),
    Mail VARCHAR(96),
    EmployeeImage VARCHAR(88),
    PRIMARY KEY (CompID),
    FOREIGN KEY (CompID) REFERENCES _COMP(CompID)
);

CREATE TABLE _COMP_APP_HISTORY (
	CompID VARCHAR(69),
    TimeID VARCHAR(88),
    AppName VARCHAR(96),
    PRIMARY KEY (CompID, TimeID, AppName),
    FOREIGN KEY (CompID) REFERENCES _COMP(CompID)
);

CREATE INDEX IDX_APP_HISTORY1 ON _COMP_APP_HISTORY(CompID);

CREATE INDEX IDX_APP_HISTORY2 ON _COMP_APP_HISTORY(CompID, TimeID);

CREATE TABLE _NOT_ALLOW_APP (
	AppName VARCHAR(96),
    PRIMARY KEY (AppName)
);

CREATE TABLE _ADMIN_COMP (
	IPComp VARCHAR(22),
    PRIMARY KEY (IPComp)
);

INSERT INTO _ADMIN_COMP VALUES ( 
    '192.168.23.88'
)

INSERT INTO `_COMP` (`CompID`, `PublicKey`) VALUES
('admin1', 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCZQgziSQiBlv0nG+BXwVa2tgtWOEe4SNgGP8Ap9QLtCwUeKY1fZjND0Kw3yGkQQ9HbaG2FF/d2W8+f3bZ/tyoF0JEKadQ7XrlrR0H/QhJKSteOWEM2i7mRc6A+3MQoA/gSCt5S6alB65uFENFzPMEqHyl75b2S3Hn+0mKK1uY7BQIDAQAB'),
('employee1', 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCM+ybApYu5AOl6OnxaZc0LlZgDCGKCEHqzVGTZyh77ZZVthc0e33KtXF9V6Pk6nPgM/8SR/kzNGMP5lcL4BuXavgKeSU4djWacuMmqroUlrwxzgAmRjFUFsngRQjgN5I8K9bvSqNB6HhVup6OuTh0jjQLEKD+WIIRIqLDCm9wJCQIDAQAB'),
('root', 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC6prCDkPMqob5gp/R8/ZFGgM4RT/tOXoIgXJLTEw6CWKSECRTiMH/RqJSI2I92MNqQXnPM8DW8ixcne8OUtWt49CJiAbj6FdlzbY343WNy3sUlNbjypOXYK2Kwwt978lj1k3pYB2CUeJK2CG64XpOVKac5yV6oNiiPVmSGRLODvQIDAQAB');

INSERT INTO _COMP_INFO VALUES (
	'employee1',
    'employeeID1',
    'abc xyz 69',
    '88@xyz.com',
    'employeeID1.png'
);
